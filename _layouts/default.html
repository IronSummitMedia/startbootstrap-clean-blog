<!-- Default layout -->
<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!-- Code below sets the metadata based on if it is a blog post page or not -->
   {% if page.is_post %}
   <meta name="description" content="{{ page.subtitle }}">
   <meta property="og:description" content="{{ page.subtitle }}" />
   <meta property="og:image"
      content="https://love-of-god-and-of-all-men.github.io/assets/images/headers/{{ page.image }}.webp" />
   {% else %}
   <meta name="description" content="Doing my best to spread God's love to everyone">
   <meta property="og:description" content="Doing my best to spread God's love to everyone" />
   <meta property="og:image" content="https://love-of-god-and-of-all-men.github.io/God-loves-you-chalk.jpg" />
   {% endif %}

   <!-- Code below sets the metadata based on if it is the homepage or not -->
   {% if page.url == "/" %}
   <meta name="google-site-verification" content="hlYP3FRvFCuR1tXGgIjeIddGUvDxcrxAUM87lp19mrI" />
   <!-- Bing site index verification code -->
   <meta name="msvalidate.01" content="41C763BE2681A36D3DCB8CC46F33A20F" />
   {% else %}
   {% endif %}

   <!-- Metadata that is the same regardless of the page -->
   <meta name="theme-color" content="#FFFFFF">
   <link rel="icon" href="/favicon-512x512.png" />
   <meta property="og:url" content="https://love-of-god-and-of-all-men.github.io{{ page.url }}" />
   <meta property="og:title" content="{{ page.title }}" />

   <title>{{ page.title }}</title>
   <!-- link to the manifest file -->
   <link rel="manifest" href="/manifest.json">
   <!-- Bootstrap Core CSS -->
   <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
   <!-- Theme CSS -->
   <link href="/assets/css/clean-blog.min.css" rel="stylesheet">
   <!-- Menu CSS -->
   <link href="/assets/css/menu.css" rel="stylesheet">
   <!-- CSS for everything else -->
   <link rel="stylesheet" href="/assets/css/styles.css">
   <!-- Custom Fonts -->
   {% include font-awesome.html %}
   <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
      type='text/css'>
   <link
      href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
      rel='stylesheet' type='text/css'>
   <!-- prevents images on page from being pinned to Pinterest -->
   <meta name="pinterest" content="nopin" />
</head>

<body onload="genTip()">
   {% include navigation.html %}
   {% include header.html %}
   <!-- Main Content -->
   <div class="container">
      <div class="row">
         <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            {% if page.url == "/" %} <!-- script is included only if it is on the homepage -->
            <!-- Below is a script that will get the quote displayed on the page at the current moment and allow it to be shared on various platforms (depending on the device's sharing capabilities) when the link is clicked -->
            <script>
               // sleeping so the quote has time to load. Once the quote loads, we can get the text and share it through the link.
               // sleep time expects milliseconds
               function sleep(time) {
                  return new Promise((resolve) => setTimeout(resolve, time));
               }

               // Usage!
               sleep(5000).then(() => {
                  // Do something after the sleep!
                  let text = document.getElementById("quote").textContent;

                  const shareData = {
                     title: 'Quote',
                     subject: 'Quote',
                     text: text,
                     url: 'https://love-of-god-and-of-all-men.github.io'
                  }

                  const link = document.querySelector('#quote-share-link');
                  const successMessage = document.querySelector('#quote-share-link');
                  const shareLinkText = document.querySelector('#quote-share-link');

                  shareLinkText.textContent = 'Share Quote'

                  // Share must be triggered by "user activation"
                  link.addEventListener('click', async () => {
                     try {
                        await navigator.share(shareData)
                        successMessage.textContent = 'Shared successfully!'
                     } catch (err) {
                        successMessage.textContent = 'Error: ' + err
                     }
                  });
               });
            </script>
            {% endif %}

            {{content}}
         </div>
      </div>
   </div>
   {% include footer.html %}
   <!-- jQuery -->
   <script src="/vendor/jquery/jquery.min.js"></script>
   <!-- Bootstrap Core JavaScript -->
   <script src="/vendor/bootstrap/js/bootstrap.min.js"></script>
   <!-- Theme JavaScript -->
   <script src="/assets/js/clean-blog.min.js"></script>
   <!-- Registering service worker -->
   <script>
      if ('serviceWorker' in navigator) {
         navigator.serviceWorker.register('/sw.js', { scope: '/' });
      }
   </script>
</body>

</html>