!function(l){function s(e){return _.map(e,function(e){return{benchmark:_.last(_.get(e,"benchmark").split(".")),size:_.parseInt(_.get(e,"params.size")),score:_.get(e,"primaryMetric.score")}})}function i(e){return _.filter(e,function(e){return!0})}function o(e){var t=_.chain(e).groupBy("size").map(function(e,t){return{size:t,maxScore:_.maxBy(e,"score").score}}).reduce(function(e,t,r){return e[t.size]=t.maxScore,e},{}).value();return _.map(e,function(e){return e.relativeScoreBySize=e.score/t[e.size]*100,e})}function u(e){var t=_.chain(e).groupBy("benchmark").map(function(e,t){return{benchmark:t,maxScore:_.maxBy(e,"score").score}}).reduce(function(e,t,r){return e[t.benchmark]=t.maxScore,e},{}).value();return _.map(e,function(e){return e.relativeScoreByBenchmark=e.score/t[e.benchmark]*100,e})}function m(e,t,r,a){new Taucharts.Chart({type:"bar",x:"size",y:"relativeScoreBySize",color:"benchmark",data:t,guide:{x:{label:{text:r}},y:{label:{text:"% score"}}},dimensions:{size:{type:"order"},relativeScoreBySize:{type:"measure",scale:a}},plugins:[Taucharts.api.plugins.get("legend")(),Taucharts.api.plugins.get("tooltip")({fields:["relativeScoreBySize","benchmark"]})]}).renderTo(document.getElementById(e))}function r(e,t){new Taucharts.Chart({type:"bar",x:"benchmark",y:"score",color:"benchmark",data:t,guide:{x:{label:{text:"Benchmark"}},y:{label:{text:"Ops/sec"}}},dimensions:{benchmark:{type:"order"},score:{type:"measure"}},plugins:[Taucharts.api.plugins.get("tooltip")({fields:["score","benchmark"]})]}).renderTo(document.getElementById(e))}function h(o,e,u){_.forEach(e,function(e,t){for(var r,a,n,c=l("<tr/>",{class:"selection"}),s=[(r=t,"<th>"+r+"</th>")],i=0;i<u;i++)s.push((n=e[i].score,a=numeral(n).format("0,000.00"),'<td class="text-right '+(100===e[i].relativeScoreBySize?"em":"")+'">'+a+"</td>"));c.append(s),c.appendTo("#"+o),c.click(function(){l(this).toggleClass("table-active")})})}function a(e,t){return _.flow(_.partialRight(_.take,t),_.partialRight(_.groupBy,"benchmark"))(e)}fetch("../data/benchmark-streams-sum-int.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,s,i,o)(e);m("streams-sum-int-chart",t,"Items in list"),h("streams-sum-int-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-sum-double-calculation.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,s,i,o)(e);m("streams-sum-double-calculation-chart",t,"Items in list"),h("streams-sum-double-calculation-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-group.json").then(function(e){return e.text()}).then(function(e){var t,r,a,n,c=_.flow(JSON.parse,s,i,o,u)(e);m("streams-group-chart",c,"Items in list"),t="streams-group-chart-bench",r=c,a="Items in list",n="logarithmic",new Taucharts.Chart({type:"bar",x:"size",y:"relativeScoreByBenchmark",color:"benchmark",data:r,guide:{x:{label:{text:a}},y:{label:{text:"% score"}}},dimensions:{size:{type:"order"},relativeScoreByBenchmark:{type:"measure",scale:n}},plugins:[Taucharts.api.plugins.get("legend")(),Taucharts.api.plugins.get("tooltip")({fields:["relativeScoreByBenchmark","benchmark"]})]}).renderTo(document.getElementById(t)),h("streams-group-table",_.groupBy(c,"benchmark"),4)}),fetch("../data/benchmark-streams-filter-sort-distinct.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,s,i,o)(e);m("streams-filter-sort-distinct-chart",t,"Items in list"),h("streams-filter-sort-distinct-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-wfc.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,s,i)(e);r("wfc-chart",_.take(t,2)),h("wfc-table",a(t,2),1),r("wfc-chart1",_.take(t,3)),h("wfc-table1",a(t,3),1),r("wfc-chart2",_.take(t,4)),h("wfc-table2",a(t,4),1),r("wfc-chart3",_.take(t,5)),h("wfc-table3",a(t,5),1),r("wfc-chart4",_.take(t,6)),h("wfc-table4",a(t,6),1)})}(jQuery);