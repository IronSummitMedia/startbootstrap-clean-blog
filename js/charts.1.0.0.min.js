!function(l){function r(e){return _.map(e,function(e){return{benchmark:_.last(_.get(e,"benchmark").split(".")),size:_.parseInt(_.get(e,"params.size")),score:_.get(e,"primaryMetric.score")}})}function a(e){return _.filter(e,function(e){return!0})}function n(e){var t=_.chain(e).groupBy("size").map(function(e,t){return{size:t,maxScore:_.maxBy(e,"score").score}}).reduce(function(e,t,r){return e[t.size]=t.maxScore,e},{}).value();return _.map(e,function(e){return e.relativeScore=e.score/t[e.size],e})}function c(e,t,r,a){new Taucharts.Chart({type:"bar",x:"size",y:"score",color:"benchmark",data:t,guide:{x:{label:{text:r}},y:{label:{text:"Number of operations per second"}}},dimensions:{size:{type:"order"},score:{type:"measure",scale:a}},plugins:[Taucharts.api.plugins.get("legend")(),Taucharts.api.plugins.get("tooltip")({fields:["score","benchmark"]})]}).renderTo(document.getElementById(e))}function o(e,t){new Taucharts.Chart({type:"bar",x:"benchmark",y:"score",color:"benchmark",data:t,guide:{x:{label:{text:"Benchmark"}},y:{label:{text:"Time in microseconds"}}},dimensions:{benchmark:{type:"order"},score:{type:"measure"}},plugins:[Taucharts.api.plugins.get("tooltip")({fields:["score","benchmark"]})]}).renderTo(document.getElementById(e))}function s(i,e,u){_.forEach(e,function(e,t){for(var r,a,n,c=l("<tr/>",{class:"selection"}),o=[(r=t,"<th>"+r+"</th>")],s=0;s<u;s++)o.push((n=e[s].relativeScore,a=numeral(n).format("0.00 %"),'<td class="text-right '+(1===e[s].relativeScore?"em":"")+'">'+a+"</td>"));c.append(o),c.appendTo("#"+i),c.click(function(){l(this).toggleClass("table-active")})})}function i(e,t){return _.flow(_.partialRight(_.take,t),n,_.partialRight(_.groupBy,"benchmark"))(e)}fetch("../data/benchmark-streams-sum-int.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-sum-int-chart",t,"Items in list","logarithmic"),s("streams-sum-int-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-sum-double-calculation.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-sum-double-calculation-chart",t,"Items in list","logarithmic"),s("streams-sum-double-calculation-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-filter-group.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-filter-group-chart",t,"Items in list","logarithmic"),s("streams-filter-group-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-wfc.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a)(e);o("wfc-chart",_.take(t,2)),s("wfc-table",i(t,2),1),o("wfc-chart1",_.take(t,3)),s("wfc-table1",i(t,3),1),o("wfc-chart2",_.take(t,4)),s("wfc-table2",i(t,4),1),o("wfc-chart3",_.take(t,5)),s("wfc-table3",i(t,5),1),o("wfc-chart4",_.take(t,6)),s("wfc-table4",i(t,6),1)})}(jQuery);