!function(l){function r(e){return _.map(e,function(e){return{benchmark:_.last(_.get(e,"benchmark").split(".")),size:_.parseInt(_.get(e,"params.size")),score:_.get(e,"primaryMetric.score")}})}function a(e){return _.filter(e,function(e){return!0})}function n(e){var t=_.chain(e).groupBy("size").map(function(e,t){return{size:t,maxScore:_.maxBy(e,"score").score}}).reduce(function(e,t,r){return e[t.size]=t.maxScore,e},{}).value();return _.map(e,function(e){return e.relativeScore=e.score/t[e.size]*100,e})}function c(e,t,r,a){new Taucharts.Chart({type:"bar",x:"size",y:"relativeScore",color:"benchmark",data:t,guide:{x:{label:{text:r}},y:{label:{text:"% score"}}},dimensions:{size:{type:"order"},relativeScore:{type:"measure"}},plugins:[Taucharts.api.plugins.get("legend")(),Taucharts.api.plugins.get("tooltip")({fields:["relativeScore","benchmark"]})]}).renderTo(document.getElementById(e))}function s(e,t){new Taucharts.Chart({type:"bar",x:"benchmark",y:"score",color:"benchmark",data:t,guide:{x:{label:{text:"Benchmark"}},y:{label:{text:"Ops/sec"}}},dimensions:{benchmark:{type:"order"},score:{type:"measure"}},plugins:[Taucharts.api.plugins.get("tooltip")({fields:["score","benchmark"]})]}).renderTo(document.getElementById(e))}function o(i,e,u){_.forEach(e,function(e,t){for(var r,a,n,c=l("<tr/>",{class:"selection"}),s=[(r=t,"<th>"+r+"</th>")],o=0;o<u;o++)s.push((n=e[o].score,a=numeral(n).format("0,000.00"),'<td class="text-right '+(100===e[o].relativeScore?"em":"")+'">'+a+"</td>"));c.append(s),c.appendTo("#"+i),c.click(function(){l(this).toggleClass("table-active")})})}function i(e,t){return _.flow(_.partialRight(_.take,t),n,_.partialRight(_.groupBy,"benchmark"))(e)}fetch("../data/benchmark-streams-sum-int.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-sum-int-chart",t,"Items in list"),o("streams-sum-int-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-sum-double-calculation.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-sum-double-calculation-chart",t,"Items in list"),o("streams-sum-double-calculation-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-streams-group.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a,n)(e);c("streams-group-chart",t,"Items in list"),o("streams-group-table",_.groupBy(t,"benchmark"),4)}),fetch("../data/benchmark-wfc.json").then(function(e){return e.text()}).then(function(e){var t=_.flow(JSON.parse,r,a)(e);s("wfc-chart",_.take(t,2)),o("wfc-table",i(t,2),1),s("wfc-chart1",_.take(t,3)),o("wfc-table1",i(t,3),1),s("wfc-chart2",_.take(t,4)),o("wfc-table2",i(t,4),1),s("wfc-chart3",_.take(t,5)),o("wfc-table3",i(t,5),1),s("wfc-chart4",_.take(t,6)),o("wfc-table4",i(t,6),1)})}(jQuery);